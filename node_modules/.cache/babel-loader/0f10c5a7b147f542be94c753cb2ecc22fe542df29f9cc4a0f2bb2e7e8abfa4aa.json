{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-8dac4566\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"login-page\"\n};\nconst _hoisted_2 = {\n  class: \"form\"\n};\nconst _hoisted_3 = {\n  class: \"register-form\"\n};\nconst _hoisted_4 = {\n  class: \"message\"\n};\nconst _hoisted_5 = {\n  class: \"login-form\"\n};\nconst _hoisted_6 = {\n  class: \"message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.registerData.ncharRegisterUserName = $event),\n    type: \"text\",\n    placeholder: \"Name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.registerData.ncharRegisterUserName]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.registerData.ncharEmail = $event),\n    type: \"text\",\n    placeholder: \"Email Address\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.registerData.ncharEmail]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.registerData.ncharMobileNumber = $event),\n    type: \"text\",\n    placeholder: \"Contact Number\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.registerData.ncharMobileNumber]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.registerData.ncharAadharNumber = $event),\n    type: \"text\",\n    placeholder: \"Aadhar Number\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.registerData.ncharAadharNumber]]), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.register && $options.register(...args), [\"prevent\"]))\n  }, \"Create\"), _createElementVNode(\"p\", _hoisted_4, [_createTextVNode(\"Already registered? \"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.toggleForm && $options.toggleForm(...args), [\"prevent\"]))\n  }, \"Sign In\")])]), _createElementVNode(\"form\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.loginData.email = $event),\n    type: \"text\",\n    placeholder: \"Email Address\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginData.email]]), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = _withModifiers((...args) => $options.requestOTP && $options.requestOTP(...args), [\"prevent\"]))\n  }, \"Get OTP\"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.loginData.otp = $event),\n    type: \"text\",\n    placeholder: \"Enter OTP\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginData.otp]]), _createElementVNode(\"button\", {\n    onClick: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, \"Login\"), _createElementVNode(\"p\", _hoisted_6, [_createTextVNode(\"Not registered? \"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[10] || (_cache[10] = _withModifiers((...args) => $options.toggleForm && $options.toggleForm(...args), [\"prevent\"]))\n  }, \"Create an account\")])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$data","registerData","ncharRegisterUserName","$event","type","placeholder","ncharEmail","ncharMobileNumber","ncharAadharNumber","onClick","_cache","_withModifiers","args","$options","register","_hoisted_4","href","toggleForm","_hoisted_5","loginData","email","requestOTP","otp","login","_hoisted_6"],"sources":["C:\\PRojectAppServer\\formsystem\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"form\">\r\n      <form class=\"register-form\">\r\n        <input v-model=\"registerData.ncharRegisterUserName\" type=\"text\" placeholder=\"Name\" />\r\n        <input v-model=\"registerData.ncharEmail\" type=\"text\" placeholder=\"Email Address\" />\r\n        <input v-model=\"registerData.ncharMobileNumber\" type=\"text\" placeholder=\"Contact Number\" />\r\n        <input v-model=\"registerData.ncharAadharNumber\" type=\"text\" placeholder=\"Aadhar Number\" />\r\n        <button @click.prevent=\"register\">Create</button>\r\n\r\n        <p class=\"message\">Already registered? <a href=\"#\" @click.prevent=\"toggleForm\">Sign In</a></p>\r\n      </form>\r\n      <form class=\"login-form\">\r\n        <input v-model=\"loginData.email\" type=\"text\" placeholder=\"Email Address\" />\r\n        <button @click.prevent=\"requestOTP\">Get OTP</button> \r\n        <input v-model=\"loginData.otp\" type=\"text\" placeholder=\"Enter OTP\" />\r\n        <button @click.prevent=\"login\">Login</button>\r\n        <p class=\"message\">Not registered? <a href=\"#\" @click.prevent=\"toggleForm\">Create an account</a></p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nimport { router } from '../router'; // Import your router instance (make sure to adjust the import path)\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      registerData: {\r\n        ncharRegisterUserName: '',\r\n        ncharEmail: '',\r\n        ncharMobileNumber: '',\r\n        ncharAadharNumber: '',\r\n      },\r\n      loginData: {\r\n        email: '',\r\n        otp: '',\r\n      },\r\n      isRegistered: false,\r\n    };\r\n  },\r\n  methods: {\r\n    toggleForm() {\r\n      /* eslint-disable-next-line no-undef */\r\n      $('form').animate({ height: 'toggle', opacity: 'toggle' }, 'slow');\r\n    },\r\n    async requestOTP() {\r\n  if (this.loginData.email.trim() !== '') { // Check if email is not empty\r\n    try {\r\n      // Send a request to check if the email is registered\r\n      const checkEmailResponse = await axios.post('http://127.0.0.1:5555/checkEmail', {\r\n        email: this.loginData.email,\r\n      });\r\n\r\n      if (checkEmailResponse.status === 200 && checkEmailResponse.data.isRegistered) {\r\n        // The email is registered, proceed to generate OTP\r\n        const otpResponse = await axios.post('http://127.0.0.1:5555/generateOtp', {\r\n          email: this.loginData.email,\r\n        });\r\n\r\n        if (otpResponse.status === 200) {\r\n          console.log('OTP Sent Successfully');\r\n          alert('OTP Sent Successfully');\r\n        } else {\r\n          console.error('OTP request failed:', otpResponse.data.error);\r\n          alert('OTP request failed. Please try again.');\r\n        }\r\n      } else {\r\n        console.error('Email is not registered');\r\n        alert('Email is not registered. Please register an account.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('An error occurred while checking email or requesting OTP. Please try again later.');\r\n    }\r\n  } else {\r\n    alert('Please enter an email address.');\r\n  }\r\n},\r\n    async login() {\r\n      if (this.loginData.email.trim() !== '' && this.loginData.otp.trim() !== '') { // Check if email and OTP are not empty\r\n        try {\r\n          // Send a request to your server to verify OTP\r\n          const response = await axios.post('http://127.0.0.1:5555/verifyOtp', {\r\n            email: this.loginData.email,\r\n            otp: this.loginData.otp,\r\n          });\r\n\r\n          if (response.status === 200) {\r\n            console.log('OTP Verified Successfully');\r\n            alert('OTP Verified Successfully');\r\n            // You can now consider the user as logged in\r\n            // Redirect to /userpage\r\n            this.$router.push({ name: 'userpage' });\r\n          } else {\r\n            console.error('OTP verification failed:', response.data.error);\r\n            alert('OTP verification failed. Please try again.');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error:', error);\r\n          alert('An error occurred during OTP verification. Please try again later.');\r\n        }\r\n      } else {\r\n        alert('Please enter both email and OTP.');\r\n      }\r\n    },\r\n    async register() {\r\n  if (this.validateRegistrationData()) {\r\n    try {\r\n      const response = await axios.post('http://127.0.0.1:5555/saveRegisterUser', this.registerData);\r\n      \r\n      if (response.status === 200) {\r\n        console.log('Registration Successful');\r\n        alert('Registration Successful');\r\n        this.resetRegistrationForm();\r\n        this.isRegistered = true;\r\n      } else {\r\n        console.error('Registration failed:', response.data.error);\r\n        alert('Registration failed. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('An error occurred during registration. Please try again later.');\r\n    }\r\n  } else {\r\n    alert('Please fill in all fields.');\r\n  }\r\n},\r\n\r\nvalidateRegistrationData() {\r\n      return (\r\n        this.registerData.ncharRegisterUserName !== '' &&\r\n        this.registerData.ncharEmail !== '' &&\r\n        this.registerData.ncharMobileNumber !== '' &&\r\n        this.registerData.ncharAadharNumber !== ''\r\n      );\r\n    },\r\nresetRegistrationForm() {\r\n      this.registerData.ncharRegisterUserName = '';\r\n      this.registerData.ncharEmail = '';\r\n      this.registerData.ncharMobileNumber = '';\r\n      this.registerData.ncharAadharNumber = '';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css?family=Roboto:300');\r\n\r\n.login-page {\r\n  width: 360px;\r\n  padding: 8% 0 0;\r\n  margin: auto;\r\n}\r\n.form {\r\n  position: relative;\r\n  z-index: 1;\r\n  background: #FFFFFF;\r\n  max-width: 360px;\r\n  margin: 0 auto 100px;\r\n  padding: 45px;\r\n  text-align: center;\r\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\r\n}\r\n.form input {\r\n  font-family: 'Roboto', sans-serif;\r\n  outline: 0;\r\n  background: #f2f2f2;\r\n  width: 100%;\r\n  border: 0;\r\n  margin: 0 0 15px;\r\n  padding: 15px;\r\n  box-sizing: border-box;\r\n  font-size: 14px;\r\n}\r\n.form button {\r\n  font-family: 'Roboto', sans-serif;\r\n  text-transform: uppercase;\r\n  outline: 0;\r\n  background: #4CAF50;\r\n  width: 100%;\r\n  border: 0;\r\n  padding: 15px;\r\n  color: #FFFFFF;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n}\r\n.form button:hover, .form button:active, .form button:focus {\r\n  background: #43A047;\r\n}\r\n.form .message {\r\n  margin: 15px 0 0;\r\n  color: #b3b3b3;\r\n  font-size: 12px;\r\n}\r\n.form .message a {\r\n  color: #4CAF50;\r\n  text-decoration: none;\r\n}\r\n.form .register-form {\r\n  display: none;\r\n}\r\n.container {\r\n  position: relative;\r\n  z-index: 1;\r\n  max-width: 300px;\r\n  margin: 0 auto;\r\n}\r\n.container:before, .container:after {\r\n  content: '';\r\n  display: block;\r\n  clear: both;\r\n}\r\n.container .info {\r\n  margin: 50px auto;\r\n  text-align: center;\r\n}\r\n.container .info h1 {\r\n  margin: 0 0 15px;\r\n  padding: 0;\r\n  font-size: 36px;\r\n  font-weight: 300;\r\n  color: #1a1a1a;\r\n}\r\n.container .info span {\r\n  color: #4d4d4d;\r\n  font-size: 12px;\r\n}\r\n.container .info span a {\r\n  color: #000000;\r\n  text-decoration: none;\r\n}\r\n.container .info span .fa {\r\n  color: #EF3B3A;\r\n}\r\nbody {\r\n  background: #76b852;\r\n  background: -webkit-linear-gradient(right, #76b852, #8DC26F);\r\n  background: -moz-linear-gradient(right, #76b852, #8DC26F);\r\n  background: -o-linear-gradient(right, #76b852, #8DC26F);\r\n  background: linear-gradient(to left, #76b852, #8DC26F);\r\n  font-family: 'Roboto', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}