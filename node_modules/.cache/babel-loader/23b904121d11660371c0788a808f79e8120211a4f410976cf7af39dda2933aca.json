{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-8dac4566\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"login-page\"\n};\nconst _hoisted_2 = {\n  class: \"form\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"register-form\"\n};\nconst _hoisted_4 = {\n  class: \"message\"\n};\nconst _hoisted_5 = {\n  class: \"login-form\"\n};\nconst _hoisted_6 = {\n  class: \"message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Registration Form \"), !$data.isRegistered ? (_openBlock(), _createElementBlock(\"form\", _hoisted_3, [_createCommentVNode(\" Your registration input fields here \"), _createCommentVNode(\" Add a button to request OTP \"), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.requestOTP && $options.requestOTP(...args), [\"prevent\"]))\n  }, \"Get OTP\"), _createElementVNode(\"p\", _hoisted_4, [_createTextVNode(\"Already registered? \"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.toggleForm && $options.toggleForm(...args), [\"prevent\"]))\n  }, \"Sign In\")])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Login Form \"), _createElementVNode(\"form\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.loginData.email = $event),\n    type: \"text\",\n    placeholder: \"Email Address\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginData.email]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.loginData.otp = $event),\n    type: \"text\",\n    placeholder: \"Enter OTP\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginData.otp]]), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, \"Login\"), _createElementVNode(\"p\", _hoisted_6, [_createTextVNode(\"Not registered? \"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.toggleForm && $options.toggleForm(...args), [\"prevent\"]))\n  }, \"Create an account\")])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","$data","isRegistered","_hoisted_3","onClick","_cache","_withModifiers","args","$options","requestOTP","_hoisted_4","href","toggleForm","_Fragment","key","_hoisted_5","loginData","email","$event","type","placeholder","otp","login","_hoisted_6"],"sources":["C:\\PRojectAppServer\\formsystem\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"form\">\r\n      <!-- Registration Form -->\r\n      <form v-if=\"!isRegistered\" class=\"register-form\">\r\n        <!-- Your registration input fields here -->\r\n\r\n        <!-- Add a button to request OTP -->\r\n        <button @click.prevent=\"requestOTP\">Get OTP</button>\r\n\r\n        <p class=\"message\">Already registered? <a href=\"#\" @click.prevent=\"toggleForm\">Sign In</a></p>\r\n      </form>\r\n\r\n      <!-- Login Form -->\r\n      <form v-else class=\"login-form\">\r\n        <input v-model=\"loginData.email\" type=\"text\" placeholder=\"Email Address\" />\r\n        <input v-model=\"loginData.otp\" type=\"text\" placeholder=\"Enter OTP\" />\r\n        <button @click.prevent=\"login\">Login</button>\r\n        <p class=\"message\">Not registered? <a href=\"#\" @click.prevent=\"toggleForm\">Create an account</a></p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      registerData: {\r\n        ncharRegisterUserName: '',\r\n        ncharEmail: '',\r\n        ncharMobileNumber: '',\r\n        ncharAadharNumber: '',\r\n      },\r\n      loginData: {\r\n        email: '',\r\n        otp: '', // Add OTP field to login data\r\n      },\r\n      isRegistered: false,\r\n    };\r\n  },\r\n  methods: {\r\n    toggleForm() {\r\n      /* eslint-disable-next-line no-undef */\r\n      $('form').animate({ height: 'toggle', opacity: 'toggle' }, 'slow');\r\n    },\r\n    async requestOTP() {\r\n      if (this.validateEmail()) {\r\n        try {\r\n          // Send a request to your server to generate and send OTP\r\n          const response = await axios.post('http://127.0.0.1:5555/generateOtp', {\r\n            email: this.loginData.email,\r\n          });\r\n\r\n          if (response.status === 200) {\r\n            console.log('OTP Sent Successfully');\r\n            alert('OTP Sent Successfully');\r\n          } else {\r\n            console.error('OTP request failed:', response.data.error);\r\n            alert('OTP request failed. Please try again.');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error:', error);\r\n          alert('An error occurred while requesting OTP. Please try again later.');\r\n        }\r\n      } else {\r\n        alert('Please enter a valid email address.');\r\n      }\r\n    },\r\n    validateEmail() {\r\n      // Add your email validation logic here\r\n      // You can use a regular expression or any other method\r\n      return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(this.loginData.email);\r\n    },\r\n    async login() {\r\n      if (this.validateEmail() && this.loginData.otp !== '') {\r\n        try {\r\n          // Send a request to your server to verify OTP\r\n          const response = await axios.post('http://127.0.0.1:5555/verifyOtp', {\r\n            email: this.loginData.email,\r\n            otp: this.loginData.otp,\r\n          });\r\n\r\n          if (response.status === 200) {\r\n            console.log('OTP Verified Successfully');\r\n            alert('OTP Verified Successfully');\r\n            // You can now consider the user as logged in\r\n          } else {\r\n            console.error('OTP verification failed:', response.data.error);\r\n            alert('OTP verification failed. Please try again.');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error:', error);\r\n          alert('An error occurred during OTP verification. Please try again later.');\r\n        }\r\n      } else {\r\n        alert('Please enter a valid email and OTP.');\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css?family=Roboto:300');\r\n\r\n.login-page {\r\n  width: 360px;\r\n  padding: 8% 0 0;\r\n  margin: auto;\r\n}\r\n.form {\r\n  position: relative;\r\n  z-index: 1;\r\n  background: #FFFFFF;\r\n  max-width: 360px;\r\n  margin: 0 auto 100px;\r\n  padding: 45px;\r\n  text-align: center;\r\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\r\n}\r\n.form input {\r\n  font-family: 'Roboto', sans-serif;\r\n  outline: 0;\r\n  background: #f2f2f2;\r\n  width: 100%;\r\n  border: 0;\r\n  margin: 0 0 15px;\r\n  padding: 15px;\r\n  box-sizing: border-box;\r\n  font-size: 14px;\r\n}\r\n.form button {\r\n  font-family: 'Roboto', sans-serif;\r\n  text-transform: uppercase;\r\n  outline: 0;\r\n  background: #4CAF50;\r\n  width: 100%;\r\n  border: 0;\r\n  padding: 15px;\r\n  color: #FFFFFF;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n}\r\n.form button:hover, .form button:active, .form button:focus {\r\n  background: #43A047;\r\n}\r\n.form .message {\r\n  margin: 15px 0 0;\r\n  color: #b3b3b3;\r\n  font-size: 12px;\r\n}\r\n.form .message a {\r\n  color: #4CAF50;\r\n  text-decoration: none;\r\n}\r\n.form .register-form {\r\n  display: none;\r\n}\r\n.container {\r\n  position: relative;\r\n  z-index: 1;\r\n  max-width: 300px;\r\n  margin: 0 auto;\r\n}\r\n.container:before, .container:after {\r\n  content: '';\r\n  display: block;\r\n  clear: both;\r\n}\r\n.container .info {\r\n  margin: 50px auto;\r\n  text-align: center;\r\n}\r\n.container .info h1 {\r\n  margin: 0 0 15px;\r\n  padding: 0;\r\n  font-size: 36px;\r\n  font-weight: 300;\r\n  color: #1a1a1a;\r\n}\r\n.container .info span {\r\n  color: #4d4d4d;\r\n  font-size: 12px;\r\n}\r\n.container .info span a {\r\n  color: #000000;\r\n  text-decoration: none;\r\n}\r\n.container .info span .fa {\r\n  color: #EF3B3A;\r\n}\r\nbody {\r\n  background: #76b852;\r\n  background: -webkit-linear-gradient(right, #76b852, #8DC26F);\r\n  background: -moz-linear-gradient(right, #76b852, #8DC26F);\r\n  background: -o-linear-gradient(right, #76b852, #8DC26F);\r\n  background: linear-gradient(to left, #76b852, #8DC26F);\r\n  font-family: 'Roboto', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n</style>"],"mappings":";;;EACOA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAM;;;EAEYA,KAAK,EAAC;;;EAM5BA,KAAK,EAAC;AAAS;;EAIPA,KAAK,EAAC;AAAY;;EAI1BA,KAAK,EAAC;AAAS;;uBAjBxBC,mBAAA,CAoBM,OApBNC,UAoBM,GAnBJC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,mBAAA,uBAA0B,E,CACbC,KAAA,CAAAC,YAAY,I,cAAzBN,mBAAA,CAOO,QAPPO,UAOO,GANLH,mBAAA,yCAA4C,EAE5CA,mBAAA,iCAAoC,EACpCF,mBAAA,CAAoD;IAA3CM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;KAAE,SAAO,GAE3CT,mBAAA,CAA8F,KAA9FY,UAA8F,G,iBAA3E,sBAAoB,GAAAZ,mBAAA,CAAmD;IAAhDa,IAAI,EAAC,GAAG;IAAEP,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAI,UAAA,IAAAJ,QAAA,CAAAI,UAAA,IAAAL,IAAA,CAAU;KAAE,SAAO,E,sBAIxFX,mBAAA,CAKOiB,SAAA;IAAAC,GAAA;EAAA,IANPd,mBAAA,gBAAmB,EACnBF,mBAAA,CAKO,QALPiB,UAKO,G,gBAJLjB,mBAAA,CAA2E;+DAA3DG,KAAA,CAAAe,SAAS,CAACC,KAAK,GAAAC,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC;iDAAzCnB,KAAA,CAAAe,SAAS,CAACC,KAAK,E,mBAC/BnB,mBAAA,CAAqE;+DAArDG,KAAA,CAAAe,SAAS,CAACK,GAAG,GAAAH,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC;iDAAvCnB,KAAA,CAAAe,SAAS,CAACK,GAAG,E,GAC7BvB,mBAAA,CAA6C;IAApCM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAc,KAAA,IAAAd,QAAA,CAAAc,KAAA,IAAAf,IAAA,CAAK;KAAE,OAAK,GACpCT,mBAAA,CAAoG,KAApGyB,UAAoG,G,iBAAjF,kBAAgB,GAAAzB,mBAAA,CAA6D;IAA1Da,IAAI,EAAC,GAAG;IAAEP,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAI,UAAA,IAAAJ,QAAA,CAAAI,UAAA,IAAAL,IAAA,CAAU;KAAE,mBAAiB,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}